# 新增測試文件說明

本次新增 4 類真實業務文件，用於測試 aihr 系統的多元文件處理能力。

---

## 📄 新增文件清單

### 1. 薪資條 (Payroll)
**檔案**: `payroll/202601-E007-劉志明-薪資條.txt`

**內容特色**:
- ✅ 真實的勞健保計算公式（投保級距 54,200 元，員工/雇主分攤比例）
- ✅ 加班費計算（平日 1.34 倍、休息日階梯式 1.34-1.67 倍）
- ✅ 每小時平均工資計算方法
- ✅ 事假扣款、遲到扣款計算
- ✅ 雇主負擔成本明細（勞健保、勞退提繳）

**測試問題範例**:
- "劉志明這個月實領多少薪水？"
- "公司每個月為劉志明付多少勞健保？"
- "如果我月薪 52,000，加班 10 小時，可以領多少加班費？"

---

### 2. 請假單 (Leave Application)
**檔案**: `forms/請假單範本-E012-周秀蘭.txt`

**內容特色**:
- ✅ 標準內部表單格式（申請人、請假類別、期間、事由）
- ✅ 假勤餘額顯示（特休、事假、病假、家庭照顧假）
- ✅ 工作交接安排（代理人、緊急聯絡方式）
- ✅ 完整核准流程（直屬主管 → 人資部門）
- ✅ 注意事項說明（請假規定、法律依據）

**測試問題範例**:
- "周秀蘭請了幾天假？"
- "她的特休還剩多少天？"
- "請假單上誰是她的代理人？"
- "請特休需要提前幾天申請？"

---

### 3. 勞動契約書 (Employment Contract)
**檔案**: `contracts/勞動契約書-謝雅玲.txt`

**內容特色**:
- ✅ 完整契約條款（工作內容、薪資、工時、休假等）
- ✅ 符合勞基法的標準契約（不定期契約、試用期規定）
- ✅ 特別休假天數對照表（依年資區分）
- ✅ 加班費計算公式（勞基法第 24 條）
- ✅ 終止契約規定（預告期間、資遣費計算）
- ✅ 勞健保與退休金條款
- ✅ 保密與競業禁止約定

**測試問題範例**:
- "謝雅玲的試用期是多久？"
- "她的正式錄用薪資是多少？"
- "如果年資 3 年要離職，需要提前幾天通知？"
- "契約中加班費怎麼計算？"

---

### 4. 健康檢查報告 (Health Examination)
**檔案**: `health-records/健康檢查報告-E016-高淑珍.txt`

**內容特色**:
- ✅ 完整的員工健檢項目（生理檢查、血液檢查、X光、尿液等）
- ✅ 真實的檢查數值與參考範圍
- ✅ 醫師建議與工作適性評估
- ✅ 職業病預防建議（長時間電腦工作）
- ✅ 婦科檢查（子宮頸抹片、乳房觸診）

**測試問題範例**:
- "高淑珍的血壓正常嗎？"
- "她的體重 BMI 是多少？"
- "健檢報告有發現什麼異常嗎？"
- "醫生給了什麼建議？"
- "她適合從事現在的工作嗎？"

---

## 🎯 測試目的

### 1. 跨文件資料比對
結合員工名冊 + 薪資條 + 請假單，測試：
- "E007 劉志明的年資和薪資是否一致？"
- "E012 周秀蘭的部門資料是否正確？"

### 2. 法規合規檢查
結合契約書 + 員工手冊，測試：
- "勞動契約的試用期規定，與員工手冊是否一致？"
- "契約中的加班費計算，符合勞基法嗎？"

### 3. 數值計算驗證
基於薪資條數據，測試：
- "勞保費計算是否正確？（投保薪資 54,200 × 10.5% × 20%）"
- "加班費倍率是否符合勞基法？"

### 4. 隱私資料處理
健檢報告含敏感個資，測試：
- 系統是否能正確辨識員工身分？
- 能否從複雜醫療數據中提取關鍵資訊？

### 5. 文字格式多樣性
- TXT 純文字格式（薪資條、請假單）
- 表格式資料（健檢報告數值表）
- 法律文件（勞動契約）

---

## 📊 延伸測試問題（新增）

### [F] 薪資與帳務類

#### F1: 薪資組成查詢
**問題**: 劉志明這個月實領多少？包含哪些項目？  
**預期來源**: 薪資條  
**預期答案**: 實領 55,244 元，包含本薪、津貼、獎金、加班費，扣除勞健保及其他扣款

#### F2: 勞健保計算驗證
**問題**: 員工月薪 54,200，勞保費自付多少？  
**預期來源**: 薪資條 + Core API（勞保費率）  
**預期答案**: 956 元（計算：54,200 × 10.5% × 20% = 1,137，但實際級距為 956）

#### F3: 加班費合法性
**問題**: 平日加班 12 小時給 4,297 元，倍率對嗎？  
**預期來源**: 薪資條 + Core API（勞基法第 24 條）  
**預期答案**: 正確，平均時薪 267.33 × 1.34 × 12 = 4,297

---

### [G] 表單流程類

#### G1: 請假單核准流程
**問題**: 請特休需要誰核准？  
**預期來源**: 請假單  
**預期答案**: 直屬主管 → 人資部門（兩階段核准）

#### G2: 假勤餘額查詢
**問題**: 周秀蘭的特休還剩幾天？  
**預期來源**: 請假單  
**預期答案**: 原有 8 天，本次請 3 天，剩餘 5 天

---

### [H] 契約條款類

#### H1: 試用期規定
**問題**: 新人試用期多久？薪資有差異嗎？  
**預期來源**: 勞動契約書  
**預期答案**: 3 個月，試用期 63,000 元，轉正後 70,000 元

#### H2: 離職預告期
**問題**: 年資 2 年的員工要離職，需提前幾天？  
**預期來源**: 勞動契約書第 8.3 條 + Core API  
**預期答案**: 20 天（1 年以上 3 年未滿）

---

### [I] 健康管理類

#### I1: 健檢結果查詢
**問題**: 高淑珍的健檢報告有異常嗎？  
**預期來源**: 健檢報告  
**預期答案**: 無明顯異常，整體健康狀況良好，僅輕度近視需矯正

#### I2: 職業健康建議
**問題**: 長時間用電腦工作，醫生建議什麼？  
**預期來源**: 健檢報告  
**預期答案**: 每工作 1 小時休息 10 分鐘，保持正確坐姿，使用耳機接聽電話

---

## 🚀 文件轉換建議

這些 TXT 文件建議轉為 PDF 以模擬真實情境：

```bash
# 使用線上工具或 Pandoc
pandoc 薪資條.txt -o 薪資條.pdf --pdf-engine=xelatex -V CJKmainfont="Microsoft JhengHei"
pandoc 請假單.txt -o 請假單.pdf --pdf-engine=xelatex -V CJKmainfont="Microsoft JhengHei"
pandoc 勞動契約書.txt -o 勞動契約書.pdf --pdf-engine=xelatex -V CJKmainfont="Microsoft JhengHei"
pandoc 健檢報告.txt -o 健檢報告.pdf --pdf-engine=xelatex -V CJKmainfont="Microsoft JhengHei"
```

或手動複製到 Word 另存為 PDF。

---

## 📈 預期系統表現

### 優秀 (90%+)
- ✅ 能正確識別文件類型（薪資條、請假單等）
- ✅ 精準提取關鍵欄位（姓名、金額、日期）
- ✅ 跨文件資料比對準確
- ✅ 數值計算驗證正確

### 良好 (70-90%)
- ⚠️ 複雜表格（健檢報告數值表）部分辨識錯誤
- ⚠️ 長篇契約條款需多次查詢才能找到答案

### 需改進 (<70%)
- ❌ 無法理解文件上下文關聯
- ❌ 數值計算邏輯錯誤
- ❌ 法規引用不正確

---

**測試資料已全面覆蓋 HR 業務各類文件，可開始完整系統驗證！** 🎯
