# aihr 系統測試問題集

**測試目的**: 驗證 aihr 系統的文件檢索、Core API 整合、混合問答及合規偵測能力  
**測試資料**: test-data/company-documents/ 內的所有文件  
**測試日期**: 2026-02-10

---

## 📋 測試類別說明

- **[A] 純公司政策查詢** - 僅查公司內部文件
- **[B] 純勞動法查詢** - 僅呼叫 Core API
- **[C] 混合查詢（合規檢查）** - 公司政策 vs 勞動法對比
- **[D] 數據推理** - 基於員工資料計算
- **[E] 模糊情境** - 測試 AI 理解與推理能力

---

## 測試問題清單

### [A] 純公司政策查詢

#### A1: 交通津貼查詢
**問題**: 我們公司有交通津貼嗎？補助多少？  
**預期來源**: 員工手冊-第一章-總則.md → 第 6 條  
**預期答案**:  
- 公司提供交通津貼
- 依據實際距離補貼 500-2,000 元

---

#### A2: 績效考核週期
**問題**: 公司績效考核是一年幾次？  
**預期來源**: 員工手冊-第一章-總則.md → 第 7 條  
**預期答案**:  
- 每年 6 月、12 月各考核一次（共 2 次）

---

#### A3: 報帳時效規定
**問題**: 請問公司報帳有時間限制嗎？  
**預期來源**: 報帳作業規範.md → 第二條 2.1  
**預期答案**:  
- 費用發生後 30 日內完成報帳
- 逾期不予核銷

---

#### A4: 計程車使用規定
**問題**: 什麼情況下可以報帳計程車費用？  
**預期來源**: 報帳作業規範.md → 第三條 3.1.2  
**預期答案**:  
- 公務外出攜帶重物（10 公斤以上）
- 深夜加班後（22:00 以後）
- 緊急公務無法搭乘大眾運輸
- 單趟限額 1,000 元

---

#### A5: 新人報到需要帶什麼？
**問題**: 新人第一天報到需要準備哪些文件？  
**預期來源**: 新人到職SOP.md → 第一條 1.2  
**預期答案**: 應列出 8 項文件清單

---

### [B] 純勞動法查詢（Core API）

#### B1: 特休天數計算
**問題**: 員工年資 3 年 2 個月，特休有幾天？  
**預期來源**: Core API (勞基法第 38 條)  
**預期答案**: 14 天

---

#### B2: 加班費計算
**問題**: 平日加班 3 小時，月薪 48,000 元，加班費怎麼算？  
**預期來源**: Core API (勞基法第 24 條)  
**預期答案**:  
- 每小時平均工資 = 48,000 ÷ 30 ÷ 8 = 200 元
- 前 2 小時 = 200 × 1.34 × 2 = 536 元
- 第 3 小時 = 200 × 1.67 × 1 = 334 元
- 合計 870 元

---

#### B3: 資遣費計算
**問題**: 員工年資 5 年 3 個月被資遣，月薪 55,000，資遣費多少？  
**預期來源**: Core API (勞基法第 17 條 - 新制)  
**預期答案**:  
- 採勞退新制：年資 × 1/2 個月工資
- 5 年 = 55,000 × 5 × 0.5 = 137,500 元
- 3 個月 = 55,000 × 0.25 = 13,750 元
- 合計約 151,250 元

---

#### B4: 產假天數
**問題**: 女性員工到職 8 個月懷孕生產，產假有給薪嗎？  
**預期來源**: Core API (性別工作平等法第 15 條)  
**預期答案**:  
- 產假 56 天（8 週）
- 到職滿 6 個月工資照給 → **有薪**

---

#### B5: 工資定義
**問題**: 年終獎金算不算工資？  
**預期來源**: Core API (勞基法第 2 條、相關函釋)  
**預期答案**:  
- 若勞動契約明定或有固定發放標準 → 算工資
- 若為恩惠性給付或績效獎金 → 不一定算工資
- 需視個案判斷

---

### [C] 混合查詢（合規檢查）

#### C1: 加班費倍率合法性 ⚠️
**問題**: 我們公司平日加班給 1.5 倍工資，這樣合法嗎？  
**預期來源**:  
- 公司規定：員工手冊第 3 條（平日 1.5 倍）
- 勞動法：Core API（勞基法第 24 條：平日 1.34 倍）

**預期答案**:  
- 公司規定 1.5 倍「優於」法定 1.34 倍 → **合法且對員工更有利** ✅

---

#### C2: 特休逾期處理違法 ⚠️⚠️
**問題**: 員工特休沒休完，公司規定逾期視同放棄，這樣可以嗎？  
**預期來源**:  
- 公司規定：員工手冊第 5.1 條（逾期視同放棄）
- 勞動法：Core API（勞基法第 38 條：應給付工資）

**預期答案**:  
- 公司規定「逾期視同放棄」**違反勞基法** ❌
- 依法應給付未休工資
- **建議公司修正規章**

---

#### C3: 全勤獎金扣生理假違法 ⚠️⚠️
**問題**: 女員工請生理假被扣全勤獎金，公司這樣對嗎？  
**預期來源**:  
- 公司規定：員工手冊第 6 條（無任何請假則有全勤）
- 勞動法：Core API（性別工作平等法第 14 條）

**預期答案**:  
- 生理假全年 3 天不扣全勤獎金
- 公司規定「無任何請假」過於嚴格 → **違法** ❌
- **建議公司修正：生理假前 3 天不影響全勤**

---

#### C4: 試用期薪資合法性 ⚠️
**問題**: 我們公司試用期薪資打 9 折，這樣合法嗎？  
**預期來源**:  
- 公司規定：新人到職SOP → FAQ Q3
- 勞動法：Core API（基本工資規定）

**預期答案**:  
- 試用期可約定較低薪資，但需符合：
  1. 勞動契約明確約定
  2. 不得低於基本工資（2024 年：月薪 27,470 / 時薪 183）
- 本公司若正職薪資 30,000，試用期 27,000 **合法但建議注意勞檢風險** ⚠️

---

#### C5: 喪假天數錯誤 ⚠️⚠️
**問題**: 請問配偶的祖父母過世，我可以請幾天喪假？  
**預期來源**:  
- 公司規定：員工手冊第 5.5 條（配偶祖父母 **6 天** ← 錯誤）
- 勞動法：Core API（勞工請假規則：配偶祖父母 **3 天**）

**預期答案**:  
- 依《勞工請假規則》應為 **3 天**
- 公司規定 6 天為**優於法令**，對員工更有利 ✅

---

#### C6: 績效不佳解僱合法性 ⚠️⚠️⚠️
**問題**: 員工連續兩次考績 D 等，公司可以直接解僱嗎？  
**預期來源**:  
- 公司規定：員工手冊第 7 條（連續 2 次 D 等可終止契約）
- 勞動法：Core API（勞基法第 11、12 條）

**預期答案**:  
- 績效不佳「非」勞基法第 12 條（不經預告終止）事由
- 需符合第 11 條第 5 款「其他原因」且給予：
  - 預告期間（10-30 日依年資）或預告工資
  - 資遣費（年資 × 1/2 個月工資）
- 公司規定「可終止契約」需補充「依法給予資遣費」 ⚠️

---

### [D] 數據推理（基於員工資料）

#### D1: 計算特定員工特休
**問題**: 員工編號 E003 陳建宏今年可以休幾天特休？  
**預期來源**: 員工名冊.csv（年資 8.9 年）+ 勞基法  
**預期答案**: 15 天（年資 5-10 年）

---

#### D2: 計算部門平均薪資
**問題**: 技術部的平均月薪是多少？  
**預期來源**: 員工名冊.csv（E001, E005, E007, E011, E015, E019 六人）  
**預期計算**:  
- (65000 + 95000 + 52000 + 55000 + 42000 + 50000) ÷ 6 = **59,833 元**

---

#### D3: 判斷資遣費試算
**問題**: 如果今天要資遣 E007 劉志明，需要付多少資遣費？  
**預期來源**: 員工名冊.csv（年資 6.2 年，月薪 52,000）  
**預期計算**: 52,000 × 6 × 0.5 = **156,000 元**

---

#### D4: 年資最深員工
**問題**: 公司目前年資最深的員工是誰？年資幾年？  
**預期來源**: 員工名冊.csv  
**預期答案**: E005 張志豪，年資 9.6 年

---

#### D5: 女性員工比例
**問題**: 公司女性員工占比多少？  
**預期來源**: 員工名冊.csv  
**預期計算**: 女性 10 人 ÷ 總共 20 人 = **50%**

---

### [E] 模糊情境（測試 AI 推理）

#### E1: OCR 表格資料查詢 🖼️
**問題**: 請問變更登記表上的公司統一編號是多少？  
**預期來源**: 變更登記表A.jpg 或 變更登記表B.jpg（OCR 辨識）  
**測試重點**:  
- LlamaParse 是否能正確辨識 JPG 圖片中的文字
- 能否從複雜表格中擷取特定欄位資料
- OCR 準確度（統編為 8 位數字）

**評估標準**:
- ✅ 完美：正確辨識出統一編號
- ⚠️ 部分成功：辨識出部分數字但有誤
- ❌ 失敗：完全無法辨識或找不到該欄位

---

#### E2: 懷孕歧視判斷
**問題**: 女員工懷孕後主管說「懷孕就不能加班，考績會打比較低」，這樣合法嗎？  
**預期來源**: Core API（性別工作平等法第 11、21 條）  
**預期答案**:  
- 這是典型的「懷孕歧視」與「不利待遇」 ❌
- 違反性平法第 11 條（禁止性別歧視）、第 21 條（禁止不利待遇）
- 員工可向地方勞工局申訴
- 公司可能面臨罰鍰 30-150 萬元

---

#### E3: 職災期間解僱（原 E2 修正）
**問題**: 員工請職業災害醫療期間，公司因業務緊縮想資遣他，可以嗎？  
**預期來源**: Core API（勞基法第 13 條）  
**預期答案**:  
- **不可以** ❌
- 勞基法第 13 條：職災醫療期間禁止終止契約
- 醫療終止後 30 日內亦同

---

#### E4: 颱風假爭議
**問題**: 昨天颱風縣市政府宣布停班停課,但老闆說我們要上班,合法嗎?  
**預期來源**: Core API（天然災害停止上班及上課作業辦法）  
**預期答案**:  
- 颱風假為「建議性質」，非強制
- 雇主可要求員工上班，但需給予：
  - 加倍工資
  - 或其他補償措施（如補休、交通津貼）
- 若員工無法到班，雇主不得視為曠職或扣薪

---

#### E5: 責任制適用
**問題**: 我們公司說工程師都是責任制，不用給加班費，這樣對嗎？  
**預期來源**: Core API（勞基法第 84 條之 1）  
**預期答案**:  
- 責任制需符合三要件：
  1. 職務屬勞基法第 84-1 條核定工作（需查公告）
  2. 與勞工個別書面約定
  3. 報請地方勞工局核備
- 一般工程師「不適用」責任制 ❌
- 未經核備仍應給付加班費

---

#### E6: 離職預告期爭議
**問題**: 我想離職，公司說要提前 3 個月離職，不然不給資遣費，可以這樣嗎？  
**預期來源**: Core API（勞基法第 15、16 條）  
**預期答案**:  
- 「資遣費」是雇主資遣勞工才需給付，勞工自請離職「無」資遣費
- 勞工離職預告期依年資：
  - 3 個月以上 1 年未滿：10 日
  - 1 年以上 3 年未滿：20 日
  - 3 年以上：30 日
- 公司不能片面要求「3 個月預告」，除非勞動契約另有較優約定

---

## 🎯 測試指標

### 成功標準
- ✅ **檢索準確度**: 80% 以上問題找到正確來源
- ✅ **答案完整性**: 包含法條引用、公司規定、建議
- ✅ **合規偵測**: C 類問題能正確指出違法條款
- ✅ **推理能力**: D/E 類問題能基於多文件推理

### 進階測試
- 📊 **回應時間**: 平均 < 10 秒（含 Core API 呼叫）
- 🔄 **多輪對話**: 能記住上下文連續追問
- 📎 **來源追溯**: 每個答案明確標註文件來源與頁碼

---

## 📝 測試紀錄表格（範例）

| 編號 | 問題 | 預期來源 | 實際來源 | 答案正確性 | 備註 |
|------|------|---------|---------|-----------|------|
| A1 | 交通津貼查詢 | 員工手冊第6條 | ✅ | ✅ | 完美 |
| C2 | 特休逾期處理 | 員工手冊+Core | ✅ | ✅ | 正確偵測違法 |
| D1 | E003特休天數 | 員工CSV+勞基法 | ✅ | ✅ | 跨文件推理成功 |
| ... | ... | ... | ... | ... | ... |

---

## 🚀 執行測試步驟

### 1. 準備環境
```bash
# 確認 aihr 系統已啟動
docker-compose ps

# 確認 Core API 連線
curl https://ai.unihr.com.tw/health
```

### 2. 上傳測試文件
前往 http://localhost:3001
- 登入系統
- 上傳 test-data/company-documents/ 所有文件
- 等待向量化完成

### 3. 執行測試
依序提問並記錄結果

### 4. 分析報告
統計各類別成功率，找出優化重點

---

**測試完成後，請將結果整理為測試報告並檢討改進方向。**
